<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <script src="index.js"></script>
    <script
      src="https://kit.fontawesome.com/74e6741759.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container" id="Table_div">
      <div class="d-flex justify-content-between align-items-center mt-5 mb-3 px-5">
        <div>
          <h3>Chemical supplies</h3>
        </div>
        <div class="d-flex justify-content-center gap-3">
          <span>
            <i class="fa-solid fa-plus fa-xl" style="color: #1d48cd"></i>
          </span>
          <span>
            <i class="fa-solid fa-arrow-up fa-xl" style="color: #939495"></i>
          </span>
          <span>
            <i class="fa-solid fa-arrow-down fa-xl" style="color: #939495"></i>
          </span>
          <span>
            <i id="trash" class="fa-solid fa-trash fa-xl" style="color: #bf0303"></i>
          </span>
          <span>
            <i onclick="window.location.reload()" class="fa-solid fa-rotate-right fa-xl" style="color: #1d48cd"></i>
          </span>
          <span>
            <i onclick="saveData()" class="fa-solid fa-floppy-disk fa-xl" style="color: #1d48cd"></i>
          </span>
        </div>
      </div>
      <div class="Table ">
        <table class="w-100">
          <thead>
            <tr>
              <th><i class="fa-solid fa-check"></i></th>
              <th onclick="sortData('id', this)">Id</th>
              <th class="chemicalName" onclick="sortData('chemical_name', this)">Chemical name</th>
              <th onclick="sortData('vendor', this)">Vendor</th>
              <th onclick="sortFloatData('density', this)">Density </br> <span class="meassure">g/m<sup>3</sup></span> </th>
              <th onclick="sortFloatData('viscosity', this)">Viscosity </br> <span class="meassure">m<sup>2</sup>/s</span></th>
              <th onclick="sortData('packaging', this)">Packaging</th>
              <th onclick="sortFloatData('pack_size', this)">Pack size</th>
              <th onclick="sortData('unit', this)">Unit</th>
              <th onclick="sortFloatData('quantity', this)">Quantity</th>
            </tr>
          </thead>
          
          <tbody>
            <!-- data will be loading from json  -->
          </tbody>
        </table>
      </div>
    </div>
    <div class="form_div d-none">
      <h1 class="text-center">Enter your details!</h1>
      <form class="form" id="chemicalForm">
        <input type="hidden" id="rowId" value="">
        <label for="Chemical">Chemical name</label>
        <input type="text" id="Chemical" placeholder="Enter Chemical name" required>
        <label for="Vender">Vendor</label>
        <input type="text" id="Vender" placeholder="Enter Vendor" required>
        <label for="Density">Density</label>
        <input type="text" id="Density" placeholder="Density" required>
        <label for="Viscosity">Viscosity</label>
        <input type="text" id="Viscosity" placeholder="Viscosity" required>
        <label for="Packaging">Packaging</label>
        <input type="text" id="Packaging" placeholder="Packaging" required>
        <label for="Pack">Pack size</label>
        <input type="text" id="Pack" placeholder="Enter Pack size" required>
        <label for="Unit">Unit</label>
        <input type="text" id="Unit" placeholder="Enter Unit" required>
        <label for="Quantity">Quantity</label>
        <input type="text" id="Quantity" placeholder="Enter Quantity" required>
        <button onclick="checksformFields()" class="btn btn-primary mt-3" type="submit">Submit</button>
        <p class="mt-2 text-primary pointer" onclick="window.location.reload()">Back to home!</p>
      </form>            
    </div>
  </body>
  <script>
    document.querySelector('.fa-plus').addEventListener('click', () => {
      document.querySelector('.form_div').classList.remove('d-none');
    });
    function checkFields() {
      const inputs = document.querySelectorAll('#chemicalForm input[required]');
      let allFilled = true;

      inputs.forEach((item) => {
        if (item.value.trim() === '') {
          allFilled = false;
        }
      });

      return allFilled;
    }
    function checksformFields(){
      if (checkFields()) {
        console.log("Form submitted successfully!");
        saveformData(event);
      } else {
        alert('Please fill all the required fields.');
      }
    }
  </script>
    
</html>
